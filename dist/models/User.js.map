{"version":3,"sources":["../../src/models/User.js"],"names":["userSchema","Schema","name","type","String","require","username","password","email","cellphone","rutaPerfil","titlePerfil","description","roles","ref","Types","ObjectId","status","Boolean","online","Number","sucursal","userCreator","timestamps","versionKey","statics","encryptPassword","clave","bcrypt","genSalt","salto","hash","matchPassword","claveRecibida","compare"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,UAAU,GAAG,IAAIC,gBAAJ,CAAW;AAC1BC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GADoB;AAE1BC,EAAAA,QAAQ,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAFgB;AAG1BE,EAAAA,QAAQ,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAHgB;AAI1BG,EAAAA,KAAK,EAAE;AAAEL,IAAAA,IAAI,EAAEC;AAAR,GAJmB;AAK1BK,EAAAA,SAAS,EAAE;AAAEN,IAAAA,IAAI,EAAEC;AAAR,GALe;AAM1BM,EAAAA,UAAU,EAAE;AAAEP,IAAAA,IAAI,EAAEC;AAAR,GANc;AAO1BO,EAAAA,WAAW,EAAE;AAAER,IAAAA,IAAI,EAAEC;AAAR,GAPa;AAQ1BQ,EAAAA,WAAW,EAAE;AAAET,IAAAA,IAAI,EAAEC;AAAR,GARa;AAS1BS,EAAAA,KAAK,EAAE;AAAEC,IAAAA,GAAG,EAAE,MAAP;AAAeX,IAAAA,IAAI,EAAEF,iBAAOc,KAAP,CAAaC;AAAlC,GATmB;AAU1BC,EAAAA,MAAM,EAAE;AAAEd,IAAAA,IAAI,EAAEe,OAAR;AAAiB,eAAS;AAA1B,GAVkB;AAW1BC,EAAAA,MAAM,EAAE;AAAEhB,IAAAA,IAAI,EAAEiB,MAAR;AAAgB,eAAS;AAAzB,GAXkB;AAY1BC,EAAAA,QAAQ,EAAE;AAAElB,IAAAA,IAAI,EAAEC;AAAR,GAZgB;AAa1BkB,EAAAA,WAAW,EAAE;AAAER,IAAAA,GAAG,EAAE,MAAP;AAAeX,IAAAA,IAAI,EAAEF,iBAAOc,KAAP,CAAaC;AAAlC;AAba,CAAX,EAchB;AACCO,EAAAA,UAAU,EAAE,IADb;AAECC,EAAAA,UAAU,EAAE;AAFb,CAdgB,CAAnB;;AAmBAxB,UAAU,CAACyB,OAAX,CAAmBC,eAAnB;AAAA,2FAAqC,iBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACbC,qBAAOC,OAAP,CAAe,EAAf,CADa;;AAAA;AAC3BC,YAAAA,KAD2B;AAAA;AAAA,mBAEpBF,qBAAOG,IAAP,CAAYJ,KAAZ,EAAmBG,KAAnB,CAFoB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArC;;AAAA;AAAA;AAAA;AAAA;;AAKA9B,UAAU,CAACyB,OAAX,CAAmBO,aAAnB;AAAA,4FAAmC,kBAAML,KAAN,EAAaM,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAClBL,qBAAOM,OAAP,CAAeP,KAAf,EAAsBM,aAAtB,CADkB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnC;;AAAA;AAAA;AAAA;AAAA;;eAIe,qBAAM,MAAN,EAAcjC,UAAd,C","sourcesContent":["import { Schema, model } from \"mongoose\";\r\nimport bcrypt from 'bcryptjs'\r\n\r\nconst userSchema = new Schema({\r\n    name: { type: String, require: true },\r\n    username: { type: String, require: true },\r\n    password: { type: String, require: true },\r\n    email: { type: String },\r\n    cellphone: { type: String },\r\n    rutaPerfil: { type: String },\r\n    titlePerfil: { type: String },\r\n    description: { type: String },\r\n    roles: { ref: 'Role', type: Schema.Types.ObjectId },\r\n    status: { type: Boolean, default: true },\r\n    online: { type: Number, default: 0 },\r\n    sucursal: { type: String },\r\n    userCreator: { ref: 'User', type: Schema.Types.ObjectId }\r\n}, {\r\n    timestamps: true,\r\n    versionKey: false\r\n})\r\n\r\nuserSchema.statics.encryptPassword = async(clave) => {\r\n    const salto = await bcrypt.genSalt(10)\r\n    return await bcrypt.hash(clave, salto)\r\n}\r\n\r\nuserSchema.statics.matchPassword = async(clave, claveRecibida) => {\r\n    return await bcrypt.compare(clave, claveRecibida)\r\n}\r\n\r\nexport default model('User', userSchema)"],"file":"User.js"}