{"version":3,"sources":["../../src/controllers/lead.controller.js"],"names":["leadCtrl","getAll","req","res","Lead","find","populate","path","select","query","length","json","total","all_leads","status","message","console","log","getOneById","leadId","params","findById","one","createOne","body","codigo_interno","dataOrigin","marcaVehiculo","marcaVehiculoE","customer_name","customer_document","customer_city","customer_cellphone","customer_cellphone2","customer_email","fecha_ingreso","createdBy","newObj","OriginData","findOne","name","originFound","_id","Marca","marcaFound","User","username","userFound","save","isNoInteresado","estado_lead","sucursal","fecha_noInteresado","motivoDesplegable","motivo_rechazo","Sucursal","sucursalFound","MotivoRechazo","motivoFound","findByIdAndUpdate","sucursal_lead","isAtendido","fecha_atencion","comentario","observacion","auto","financiamiento","entidad_bancaria","tentativa_inicial","precioUnidad","Vehicle","cod_tdp","autoFound","Financiamiento","financiamientoFound","undefined","tipoFinanciamiento","Banco","bancoFound","isAsignacion","isAsignado","fecha_asignacion","asesorAsignado","Seller","asesorFound","isCotizado","fecha_cotizacion","isDeclinado","fecha_declinado","motivo_desistencia","isConvertido","estado_conversion","fecha_conversion","EstadoConversion","statusFound","isBooking","fecha_booking","isDown","fecha_down","isVenta","fecha_venta","deleteOneById","findByIdAndDelete","leadsBySucursalFecha","start","end","$gte","Date","$lte","sort","leads","leadsByStatusFecha","rankingLeadsConversionByDates","filter","aggregate","$match","$group","num_leads","$sum","$sort","ranking","countLeadsByDates","marca","estado","$regex","countDocuments","qty","countLeadsConversionyDates","rankingLeadsByOriginDataDateConversion","totalLeads","leadsModificados","updatedAt","$lt","all","getLeadsByMarcaFecha","$in"],"mappings":"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","sourcesContent":["import Lead from \"../models/Lead\";\r\nimport User from \"../models/User\";\r\nimport Sucursal from \"../models/Sucursal\";\r\nimport OriginData from \"../models/OriginData\";\r\nimport Vehicle from \"../models/Vehicle\";\r\nimport Financiamiento from \"../models/Financiamiento\";\r\nimport Banco from \"../models/Banco\";\r\nimport Seller from \"../models/Seller\";\r\nimport EstadoConversion from \"../models/EstadoConversion\";\r\nimport MotivoRechazo from \"../models/MotivoRechazo\";\r\nimport Marca from \"../models/Marca\";\r\n\r\nconst leadCtrl = {};\r\n\r\nleadCtrl.getAll = async (req, res) => {\r\n     try {\r\n          const query = await Lead.find()\r\n               .populate({\r\n                    path: \"sucursal_lead\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"dataOrigin\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"tipoFinanciamiento\",\r\n                    select: \"tipo\",\r\n               })\r\n               .populate({\r\n                    path: \"entidad_bancaria\",\r\n                    select: \"name avatar\",\r\n               })\r\n               .populate({\r\n                    path: \"estado_conversion\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"motivoDesplegable\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"auto\",\r\n                    select: \"chasis model cod_tdp, version\",\r\n                    populate: [\r\n                         {\r\n                              path: \"chasis\",\r\n                              select: \"name\",\r\n                         },\r\n                         {\r\n                              path: \"model\",\r\n                              select: \"name marca avatar\",\r\n                              populate: {\r\n                                   path: \"marca\",\r\n                                   select: \"name avatar\",\r\n                              },\r\n                         },\r\n                    ],\r\n               })\r\n               .populate({\r\n                    path: \"asesorAsignado\",\r\n                    select: \"name tipo marca avatar\",\r\n                    populate: {\r\n                         path: \"marca\",\r\n                         select: \"name avatar\",\r\n                    },\r\n               })\r\n               .populate({\r\n                    path: \"createdBy\",\r\n                    select: \"name username\",\r\n               });\r\n\r\n          if (query.length > 0) {\r\n               res.json({ total: query.length, all_leads: query });\r\n          } else {\r\n               return res.status(404).json({ message: \"No existen leads\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.getOneById = async (req, res) => {\r\n     const { leadId } = req.params;\r\n     try {\r\n          const query = await Lead.findById(leadId)\r\n               .populate({\r\n                    path: \"sucursal_lead\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"dataOrigin\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"tipoFinanciamiento\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"entidad_bancaria\",\r\n                    select: \"name avatar\",\r\n               })\r\n               .populate({\r\n                    path: \"estado_conversion\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"motivoDesplegable\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"auto\",\r\n                    select: \"chasis model cod_tdp version\",\r\n                    populate: [\r\n                         {\r\n                              path: \"chasis\",\r\n                              select: \"name\",\r\n                         },\r\n                         {\r\n                              path: \"model\",\r\n                              select: \"name marca avatar\",\r\n                              populate: {\r\n                                   path: \"marca\",\r\n                                   select: \"name avatar\",\r\n                              },\r\n                         },\r\n                    ],\r\n               })\r\n               .populate({\r\n                    path: \"asesorAsignado\",\r\n                    select: \"name tipo marca avatar sucursal\",\r\n                    populate: [\r\n                         {\r\n                              path: \"marca\",\r\n                              select: \"name avatar\",\r\n                         },\r\n                         {\r\n                              path: \"sucursal\",\r\n                              select: \"name\",\r\n                         },\r\n                    ],\r\n               })\r\n               .populate({\r\n                    path: \"createdBy\",\r\n                    select: \"name username\",\r\n               });\r\n\r\n          if (query) {\r\n               res.json({ one: query });\r\n          } else {\r\n               return res.status(404).json({ message: \"No existen el lead\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.createOne = async (req, res) => {\r\n     const { codigo_interno, dataOrigin, marcaVehiculo, marcaVehiculoE,customer_name, customer_document, customer_city, customer_cellphone, customer_cellphone2, customer_email, fecha_ingreso, createdBy } = req.body;\r\n\r\n     try {\r\n          const newObj = new Lead({\r\n               codigo_interno,\r\n               marcaVehiculo,\r\n               customer_name,\r\n               customer_document,\r\n               customer_city,\r\n               customer_cellphone,\r\n               customer_cellphone2,\r\n               customer_email,\r\n               fecha_ingreso,\r\n          });\r\n\r\n          const originFound = await OriginData.findOne({ name: dataOrigin });\r\n          if (!originFound) return res.status(404).json({ message: `Origen ${dataOrigin} no encontrada` });\r\n          newObj.dataOrigin = originFound._id;\r\n\r\n          const marcaFound = await Marca.findOne({name: marcaVehiculoE });\r\n          if(!marcaFound) return res.status(404).json({message: `Marca ${marcaVehiculoE} no encontrada`});\r\n          newObj.marcaVehiculoE = marcaFound._id;\r\n\r\n          const userFound = await User.findOne({ username: createdBy });\r\n          if (!userFound) return res.status(404).json({ message: `Empleado ${createdBy} no encontrado` });\r\n          newObj.createdBy = userFound._id;\r\n\r\n          const query = await newObj.save();\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead creado con éxito\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.isNoInteresado = async (req, res) => {\r\n     const { leadId } = req.params;\r\n     const { estado_lead, isNoInteresado, sucursal, fecha_noInteresado, motivoDesplegable, motivo_rechazo } = req.body;\r\n\r\n     try {\r\n          const sucursalFound = await Sucursal.findOne({ name: sucursal });\r\n          if (!sucursalFound) return res.status(404).json({ message: `Sucursal ${sucursal} no encontrada` });\r\n\r\n          const motivoFound = await MotivoRechazo.findOne({ name: motivoDesplegable });\r\n          if (!motivoFound) return res.status(404).json({ message: `Motivo ${motivoDesplegable} no encontrado` });\r\n\r\n          const query = await Lead.findByIdAndUpdate(leadId, {\r\n               estado_lead,\r\n               isNoInteresado,\r\n               sucursal_lead: sucursalFound._id,\r\n               fecha_noInteresado,\r\n               motivoDesplegable: motivoFound._id,\r\n               motivo_rechazo,\r\n          });\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead actualizado con éxito\" });\r\n          } else {\r\n               return res.status(404).json({ message: \"Lead no encontrado para actualizar\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.isAtendido = async (req, res) => {\r\n     const { leadId } = req.params;\r\n     const { estado_lead, isAtendido, fecha_atencion, comentario, observacion, sucursal, auto, financiamiento, entidad_bancaria, tentativa_inicial, precioUnidad } = req.body;\r\n\r\n     try {\r\n          let query = null;\r\n\r\n          const sucursalFound = await Sucursal.findOne({ name: sucursal });\r\n          const autoFound = await Vehicle.findOne({ cod_tdp: auto });\r\n          const financiamientoFound = await Financiamiento.findOne({ name: financiamiento });\r\n\r\n          if (!sucursalFound) return res.status(404).json({ message: `Sucursal ${sucursal} no encontrada` });\r\n          if (!autoFound) return res.status(404).json({ message: `Vehículo ${auto} no encontrado` });\r\n          if (!financiamientoFound) return res.status(404).json({ message: `Tipo de financiamiento ${financiamiento} no encontrado` });\r\n\r\n          if (entidad_bancaria == null || entidad_bancaria == undefined) {\r\n               query = await Lead.findByIdAndUpdate(leadId, {\r\n                    sucursal_lead: sucursalFound._id,\r\n                    estado_lead,\r\n                    isAtendido,\r\n                    fecha_atencion,\r\n                    comentario,\r\n                    observacion,\r\n                    auto: autoFound._id,\r\n                    tipoFinanciamiento: financiamientoFound._id,\r\n                    tentativa_inicial,\r\n                    precioUnidad,\r\n               });\r\n          } else {\r\n               const bancoFound = await Banco.findOne({ name: entidad_bancaria });\r\n               if (!bancoFound) return res.status(404).json({ message: `Entidad ${entidad_bancaria} no encontrado` });\r\n\r\n               query = await Lead.findByIdAndUpdate(leadId, {\r\n                    sucursal_lead: sucursalFound._id,\r\n                    estado_lead,\r\n                    isAtendido,\r\n                    fecha_atencion,\r\n                    comentario,\r\n                    observacion,\r\n                    auto: autoFound._id,\r\n                    tipoFinanciamiento: financiamientoFound._id,\r\n                    entidad_bancaria: bancoFound._id,\r\n                    tentativa_inicial,\r\n                    precioUnidad,\r\n               });\r\n          }\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead actualizado con éxito\" });\r\n          } else {\r\n               return res.status(404).json({ message: \"Lead no encontrado para actualizar\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.isAsignacion = async (req, res) => {\r\n     const { leadId } = req.params;\r\n     const { estado_lead, isAsignado, fecha_asignacion, comentario, observacion, sucursal, asesorAsignado, auto, financiamiento, entidad_bancaria, tentativa_inicial, precioUnidad } = req.body;\r\n\r\n     try {\r\n          let query = null;\r\n\r\n          const sucursalFound = await Sucursal.findOne({ name: sucursal });\r\n          const asesorFound = await Seller.findOne({ name: asesorAsignado });\r\n          const autoFound = await Vehicle.findOne({ cod_tdp: auto });\r\n          const financiamientoFound = await Financiamiento.findOne({ name: financiamiento });\r\n\r\n          if (!sucursalFound) return res.status(404).json({ message: `Sucursal ${sucursal} no encontrada` });\r\n          if (!asesorFound) return res.status(404).json({ message: `Asesor ${asesorAsignado} no encontrado` });\r\n          if (!autoFound) return res.status(404).json({ message: `Vehículo ${auto} no encontrado` });\r\n          if (!financiamientoFound) return res.status(404).json({ message: `Tipo de financiamiento ${financiamiento} no encontrado` });\r\n\r\n          if (entidad_bancaria == null || entidad_bancaria == undefined) {\r\n               query = await Lead.findByIdAndUpdate(leadId, {\r\n                    sucursal_lead: sucursalFound._id,\r\n                    estado_lead,\r\n                    isAsignado,\r\n                    fecha_asignacion,\r\n                    comentario,\r\n                    observacion,\r\n                    asesorAsignado: asesorFound._id,\r\n                    auto: autoFound._id,\r\n                    tipoFinanciamiento: financiamientoFound._id,\r\n                    tentativa_inicial,\r\n                    precioUnidad,\r\n               });\r\n          } else {\r\n               const bancoFound = await Banco.findOne({ name: entidad_bancaria });\r\n               if (!bancoFound) return res.status(404).json({ message: `Entidad ${entidad_bancaria} no encontrado` });\r\n\r\n               query = await Lead.findByIdAndUpdate(leadId, {\r\n                    sucursal_lead: sucursalFound._id,\r\n                    estado_lead,\r\n                    isAsignado,\r\n                    fecha_asignacion,\r\n                    comentario,\r\n                    observacion,\r\n                    asesorAsignado: asesorFound._id,\r\n                    auto: autoFound._id,\r\n                    tipoFinanciamiento: financiamientoFound._id,\r\n                    entidad_bancaria: bancoFound._id,\r\n                    tentativa_inicial,\r\n                    precioUnidad,\r\n               });\r\n          }\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead actualizado con éxito\" });\r\n          } else {\r\n               return res.status(404).json({ message: \"Lead no encontrado para actualizar\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.isCotizado = async (req, res) => {\r\n     const { leadId } = req.params;\r\n     const { financiamiento, entidad_bancaria, tentativa_inicial, precioUnidad, estado_lead, isCotizado, fecha_cotizacion, comentario, observacion } = req.body;\r\n\r\n     try {\r\n          let query = null;\r\n\r\n          const financiamientoFound = await Financiamiento.findOne({ name: financiamiento });\r\n          if (!financiamientoFound) return res.status(404).json({ message: `Tipo de financiamiento ${financiamiento} no encontrado` });\r\n\r\n          if (entidad_bancaria == null || entidad_bancaria == undefined) {\r\n               query = await Lead.findByIdAndUpdate(leadId, {\r\n                    tipoFinanciamiento: financiamientoFound._id,\r\n                    tentativa_inicial,\r\n                    precioUnidad,\r\n                    estado_lead,\r\n                    isCotizado,\r\n                    fecha_cotizacion,\r\n                    comentario,\r\n                    observacion,\r\n               });\r\n          } else {\r\n               const bancoFound = await Banco.findOne({ name: entidad_bancaria });\r\n               if (!bancoFound) return res.status(404).json({ message: `Entidad ${entidad_bancaria} no encontrado` });\r\n\r\n               query = await Lead.findByIdAndUpdate(leadId, {\r\n                    tipoFinanciamiento: financiamientoFound._id,\r\n                    entidad_bancaria: bancoFound._id,\r\n                    tentativa_inicial,\r\n                    precioUnidad,\r\n                    estado_lead,\r\n                    isCotizado,\r\n                    fecha_cotizacion,\r\n                    comentario,\r\n                    observacion,\r\n               });\r\n          }\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead actualizado con éxito\" });\r\n          } else {\r\n               return res.status(404).json({ message: \"Lead no encontrado para actualizar\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.isDeclinado = async (req, res) => {\r\n     const { leadId } = req.params;\r\n     const { estado_lead, isDeclinado, fecha_declinado, motivo_desistencia, comentario, observacion } = req.body;\r\n\r\n     try {\r\n          const query = await Lead.findByIdAndUpdate(leadId, {\r\n               estado_lead,\r\n               isDeclinado,\r\n               fecha_declinado,\r\n               motivo_desistencia,\r\n               comentario,\r\n               observacion,\r\n          });\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead actualizado con éxito\" });\r\n          } else {\r\n               return res.status(404).json({ message: \"Lead no encontrado para actualizar\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.isConvertido = async (req, res) => {\r\n     const { leadId } = req.params;\r\n     const { estado_lead, estado_conversion, isConvertido, fecha_conversion } = req.body;\r\n\r\n     try {\r\n          const statusFound = await EstadoConversion.findOne({ name: estado_conversion });\r\n          if (!statusFound) return res.status(404).json({ message: `Estado ${estado_conversion} no encontrado` });\r\n\r\n          const query = await Lead.findByIdAndUpdate(leadId, {\r\n               estado_lead,\r\n               estado_conversion: statusFound._id,\r\n               isConvertido,\r\n               fecha_conversion,\r\n          });\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead actualizado con éxito\" });\r\n          } else {\r\n               return res.status(404).json({ message: \"Lead no encontrado para actualizar\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.isBooking = async (req, res) => {\r\n     const { leadId } = req.params;\r\n     const { estado_conversion, isBooking, fecha_booking } = req.body;\r\n\r\n     try {\r\n          const statusFound = await EstadoConversion.findOne({ name: estado_conversion });\r\n          if (!statusFound) return res.status(404).json({ message: `Estado ${estado_conversion} no encontrado` });\r\n\r\n          const query = await Lead.findByIdAndUpdate(leadId, {\r\n               estado_conversion: statusFound._id,\r\n               isBooking,\r\n               fecha_booking,\r\n          });\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead actualizado con éxito\" });\r\n          } else {\r\n               return res.status(404).json({ message: \"Lead no encontrado para actualizar\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.isDown = async (req, res) => {\r\n     const { leadId } = req.params;\r\n     const { estado_conversion, isDown, fecha_down } = req.body;\r\n\r\n     try {\r\n          const statusFound = await EstadoConversion.findOne({ name: estado_conversion });\r\n          if (!statusFound) return res.status(404).json({ message: `Estado ${estado_conversion} no encontrado` });\r\n\r\n          const query = await Lead.findByIdAndUpdate(leadId, {\r\n               estado_conversion: statusFound._id,\r\n               isDown,\r\n               fecha_down,\r\n          });\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead actualizado con éxito\" });\r\n          } else {\r\n               return res.status(404).json({ message: \"Lead no encontrado para actualizar\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.isVenta = async (req, res) => {\r\n     const { leadId } = req.params;\r\n     const { estado_conversion, isVenta, fecha_venta } = req.body;\r\n\r\n     try {\r\n          const statusFound = await EstadoConversion.findOne({ name: estado_conversion });\r\n          if (!statusFound) return res.status(404).json({ message: `Estado ${estado_conversion} no encontrado` });\r\n\r\n          const query = await Lead.findByIdAndUpdate(leadId, {\r\n               estado_conversion: statusFound._id,\r\n               isVenta,\r\n               fecha_venta,\r\n          });\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead actualizado con éxito\" });\r\n          } else {\r\n               return res.status(404).json({ message: \"Lead no encontrado para actualizar\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.deleteOneById = async (req, res) => {\r\n     const { leadId } = req.params;\r\n\r\n     try {\r\n          const query = await Lead.findByIdAndDelete(leadId);\r\n\r\n          if (query) {\r\n               res.json({ message: \"Lead eliminado con éxito\" });\r\n          } else {\r\n               return res.status(404).json({ message: \"Lead no encontrado para eliminar\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.leadsBySucursalFecha = async (req, res) => {\r\n     const { start, end } = req.body;\r\n\r\n     try {\r\n          const query = await Lead.find({\r\n               fecha_ingreso: {\r\n                    $gte: new Date(start),\r\n                    $lte: new Date(end),\r\n               },\r\n          })\r\n               .sort({ fecha_ingreso: -1 })\r\n               .populate({\r\n                    path: \"sucursal_lead\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"dataOrigin\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"tipoFinanciamiento\",\r\n                    select: \"tipo\",\r\n               })\r\n               .populate({\r\n                    path: \"entidad_bancaria\",\r\n                    select: \"name avatar\",\r\n               })\r\n               .populate({\r\n                    path: \"estado_conversion\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"auto\",\r\n                    select: \"chasis model cod_tdp, version\",\r\n                    populate: [\r\n                         {\r\n                              path: \"chasis\",\r\n                              select: \"name\",\r\n                         },\r\n                         {\r\n                              path: \"model\",\r\n                              select: \"name marca avatar\",\r\n                              populate: {\r\n                                   path: \"marca\",\r\n                                   select: \"name avatar\",\r\n                              },\r\n                         },\r\n                    ],\r\n               })\r\n               .populate({\r\n                    path: \"asesorAsignado\",\r\n                    select: \"name tipo marca avatar\",\r\n                    populate: {\r\n                         path: \"marca\",\r\n                         select: \"name avatar\",\r\n                    },\r\n               })\r\n               .populate({\r\n                    path: \"createdBy\",\r\n                    select: \"name username\",\r\n               });\r\n\r\n          if (query.length > 0) {\r\n               res.json({ total: query.length, leads: query });\r\n          } else {\r\n               return res.status(404).json({ message: \"No existen leads\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.leadsByStatusFecha = async (req, res) => {\r\n     const { estado_lead, start, end } = req.body;\r\n\r\n     try {\r\n          const query = await Lead.find({\r\n               estado_lead,\r\n               isConvertido: true,\r\n               fecha_conversion: {\r\n                    $gte: new Date(start),\r\n                    $lte: new Date(end),\r\n               },\r\n          })\r\n               .sort({ fecha_conversion: -1 })\r\n               .populate({\r\n                    path: \"sucursal_lead\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"dataOrigin\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"tipoFinanciamiento\",\r\n                    select: \"tipo\",\r\n               })\r\n               .populate({\r\n                    path: \"entidad_bancaria\",\r\n                    select: \"name avatar\",\r\n               })\r\n               .populate({\r\n                    path: \"estado_conversion\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"auto\",\r\n                    select: \"chasis model cod_tdp, version\",\r\n                    populate: [\r\n                         {\r\n                              path: \"chasis\",\r\n                              select: \"name\",\r\n                         },\r\n                         {\r\n                              path: \"model\",\r\n                              select: \"name marca avatar\",\r\n                              populate: {\r\n                                   path: \"marca\",\r\n                                   select: \"name avatar\",\r\n                              },\r\n                         },\r\n                    ],\r\n               })\r\n               .populate({\r\n                    path: \"asesorAsignado\",\r\n                    select: \"name tipo marca avatar\",\r\n                    populate: {\r\n                         path: \"marca\",\r\n                         select: \"name avatar\",\r\n                    },\r\n               })\r\n               .populate({\r\n                    path: \"createdBy\",\r\n                    select: \"name username\",\r\n               });\r\n\r\n          if (query.length > 0) {\r\n               res.json({ total: query.length, leads: query });\r\n          } else {\r\n               return res.status(404).json({ message: \"No existen leads\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.rankingLeadsConversionByDates = async (req, res) => {\r\n     const { start, end } = req.body;\r\n\r\n     try {\r\n          const filter = { fecha_ingreso: { $gte: new Date(start), $lte: new Date(end) } };\r\n          const query = await Lead.aggregate([\r\n               {\r\n                    $match: filter,\r\n               },\r\n               {\r\n                    $group: {\r\n                         _id: \"$estado_conversion\",\r\n                         num_leads: { $sum: 1 },\r\n                    },\r\n               },\r\n               {\r\n                    $sort: { num_leads: -1 },\r\n               },\r\n          ]);\r\n\r\n          if (query.length > 0) {\r\n               res.json({ total: query.length, ranking: query });\r\n          } else {\r\n               return res.status(404).json({ message: \"No existen leads aún\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.countLeadsByDates = async (req, res) => {\r\n     const { marca, estado, start, end } = req.body;\r\n\r\n     try {\r\n          const query = await Lead.find({\r\n               marcaVehiculo: { $regex: \".*\" + marca + \".*\" },\r\n               estado_lead: { $regex: \".*\" + estado + \".*\" },\r\n               fecha_ingreso: { $gte: new Date(start), $lte: new Date(end) },\r\n          }).countDocuments();\r\n          if (query >= 0) {\r\n               res.json({ qty: query });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.countLeadsConversionyDates = async (req, res) => {\r\n     const { isBooking, isVenta, start, end } = req.body;\r\n\r\n     try {\r\n          // const conversionState = await EstadoConversion.findOne({ name: estado });\r\n          let query = null;\r\n\r\n          if (isVenta) {\r\n               query = await Lead.find({\r\n                    // estado_conversion: conversionState._id,\r\n                    isBooking,\r\n                    isVenta,\r\n                    fecha_conversion: { $gte: new Date(start), $lte: new Date(end) },\r\n               }).countDocuments();\r\n          } else {\r\n               query = await Lead.find({\r\n                    // estado_conversion: conversionState._id,\r\n                    isBooking,\r\n                    fecha_conversion: { $gte: new Date(start), $lte: new Date(end) },\r\n               }).countDocuments();\r\n          }\r\n\r\n          if (query >= 0) {\r\n               res.json({ qty: query });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.rankingLeadsByOriginDataDateConversion = async (req, res) => {\r\n     const { start, end, estado_lead, isAsignado, isBooking, isVenta } = req.body;\r\n\r\n     let query = null;\r\n     let filter = null;\r\n\r\n     try {\r\n          if (estado_lead) {\r\n               filter = { estado_lead, isAsignado, fecha_ingreso: { $gte: new Date(start), $lte: new Date(end) } };\r\n               query = await Lead.aggregate([\r\n                    {\r\n                         $match: filter,\r\n                    },\r\n                    {\r\n                         $group: {\r\n                              _id: \"$dataOrigin\",\r\n                              totalLeads: { $sum: 1 },\r\n                         },\r\n                    },\r\n                    {\r\n                         $sort: { totalLeads: -1 },\r\n                    },\r\n               ]);\r\n          } else if (isBooking) {\r\n               filter = { isBooking, fecha_conversion: { $gte: new Date(start), $lte: new Date(end) } };\r\n               query = await Lead.aggregate([\r\n                    {\r\n                         $match: filter,\r\n                    },\r\n                    {\r\n                         $group: {\r\n                              _id: \"$dataOrigin\",\r\n                              totalLeads: { $sum: 1 },\r\n                         },\r\n                    },\r\n                    {\r\n                         $sort: { totalLeads: -1 },\r\n                    },\r\n               ]);\r\n          } else if (isVenta) {\r\n               filter = { isVenta: isVenta, fecha_conversion: { $gte: new Date(start), $lte: new Date(end) } };\r\n               query = await Lead.aggregate([\r\n                    {\r\n                         $match: filter,\r\n                    },\r\n                    {\r\n                         $group: {\r\n                              _id: \"$dataOrigin\",\r\n                              totalLeads: { $sum: 1 },\r\n                         },\r\n                    },\r\n                    {\r\n                         $sort: { totalLeads: -1 },\r\n                    },\r\n               ]);\r\n          }\r\n\r\n          if (query.length > 0) {\r\n               res.json({ total: query.length, ranking: query });\r\n          } else {\r\n               return res.status(404).json({ message: \"No existen leads aún\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\nleadCtrl.leadsModificados = async (req, res) => {\r\n     const { start, end } = req.body;\r\n     try {\r\n          const query = await Lead.find({\r\n               updatedAt: { $gte: new Date(start), $lt: new Date(end) },\r\n               // createdAt: { $ne: new Date(start)}\r\n          })\r\n               .sort({ customer_name: 1 })\r\n               .populate({\r\n                    path: \"sucursal_lead\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"dataOrigin\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"tipoFinanciamiento\",\r\n                    select: \"tipo\",\r\n               })\r\n               .populate({\r\n                    path: \"entidad_bancaria\",\r\n                    select: \"name avatar\",\r\n               })\r\n               .populate({\r\n                    path: \"estado_conversion\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"motivoDesplegable\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"auto\",\r\n                    select: \"chasis model cod_tdp, version\",\r\n                    populate: [\r\n                         {\r\n                              path: \"chasis\",\r\n                              select: \"name\",\r\n                         },\r\n                         {\r\n                              path: \"model\",\r\n                              select: \"name marca avatar\",\r\n                              populate: {\r\n                                   path: \"marca\",\r\n                                   select: \"name avatar\",\r\n                              },\r\n                         },\r\n                    ],\r\n               })\r\n               .populate({\r\n                    path: \"asesorAsignado\",\r\n                    select: \"name tipo marca avatar\",\r\n                    populate: {\r\n                         path: \"marca\",\r\n                         select: \"name avatar\",\r\n                    },\r\n               })\r\n               .populate({\r\n                    path: \"createdBy\",\r\n                    select: \"name username\",\r\n               });\r\n\r\n          if (query.length > 0) {\r\n               res.json({ total: query.length, all: query });\r\n          } else {\r\n               return res.status(404).json({ message: \"No se encontraron leads\" });\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n};\r\n\r\n//Nuevos Cambios\r\nleadCtrl.getLeadsByMarcaFecha = async(req, res) => {\r\n     const { marca, start, end } = req.body;\r\n     let query = null;\r\n\r\n     try {\r\n          if(start == null || start == undefined){\r\n               query = await Lead.find({\r\n                    marcaVehiculo: {$in: marca},\r\n               })\r\n               .sort({ fecha_ingreso: -1})\r\n               .populate({\r\n                    path: \"sucursal_lead\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"dataOrigin\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"tipoFinanciamiento\",\r\n                    select: \"tipo\",\r\n               })\r\n               .populate({\r\n                    path: \"entidad_bancaria\",\r\n                    select: \"name avatar\",\r\n               })\r\n               .populate({\r\n                    path: \"estado_conversion\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"marcaVehiculoE\",\r\n                    select: \"name avatar\",\r\n               })\r\n               .populate({\r\n                    path: \"motivoDesplegable\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"auto\",\r\n                    select: \"chasis model cod_tdp, version\",\r\n                    populate: [\r\n                         {\r\n                              path: \"chasis\",\r\n                              select: \"name\",\r\n                         },\r\n                         {\r\n                              path: \"model\",\r\n                              select: \"name marca avatar\",\r\n                              populate: {\r\n                                   path: \"marca\",\r\n                                   select: \"name avatar\",\r\n                              },\r\n                         },\r\n                    ],\r\n               })\r\n               .populate({\r\n                    path: \"asesorAsignado\",\r\n                    select: \"name tipo marca avatar\",\r\n                    populate: {\r\n                         path: \"marca\",\r\n                         select: \"name avatar\",\r\n                    },\r\n               })\r\n               .populate({\r\n                    path: \"createdBy\",\r\n                    select: \"name username\",\r\n               });\r\n          }else{\r\n               query = await Lead.find({\r\n                    fecha_ingreso: {\r\n                         $gte: new Date(start),\r\n                         $lte: new Date(end),\r\n                    },\r\n                    marcaVehiculo: {$in: marca},\r\n               })\r\n               .sort({ fecha_ingreso: -1})\r\n               .populate({\r\n                    path: \"sucursal_lead\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"dataOrigin\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"tipoFinanciamiento\",\r\n                    select: \"tipo\",\r\n               })\r\n               .populate({\r\n                    path: \"entidad_bancaria\",\r\n                    select: \"name avatar\",\r\n               })\r\n               .populate({\r\n                    path: \"estado_conversion\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"marcaVehiculoE\",\r\n                    select: \"name avatar\",\r\n               })\r\n               .populate({\r\n                    path: \"motivoDesplegable\",\r\n                    select: \"name\",\r\n               })\r\n               .populate({\r\n                    path: \"auto\",\r\n                    select: \"chasis model cod_tdp, version\",\r\n                    populate: [\r\n                         {\r\n                              path: \"chasis\",\r\n                              select: \"name\",\r\n                         },\r\n                         {\r\n                              path: \"model\",\r\n                              select: \"name marca avatar\",\r\n                              populate: {\r\n                                   path: \"marca\",\r\n                                   select: \"name avatar\",\r\n                              },\r\n                         },\r\n                    ],\r\n               })\r\n               .populate({\r\n                    path: \"asesorAsignado\",\r\n                    select: \"name tipo marca avatar\",\r\n                    populate: {\r\n                         path: \"marca\",\r\n                         select: \"name avatar\",\r\n                    },\r\n               })\r\n               .populate({\r\n                    path: \"createdBy\",\r\n                    select: \"name username\",\r\n               });\r\n          }\r\n\r\n          if(query.length > 0){\r\n               res.json({ total: query.length, all: query });\r\n          }else{\r\n               return res.status(404).json({message: `No hay leads con la marca ${marca}`})\r\n          }\r\n     } catch (err) {\r\n          console.log(err);\r\n          return res.status(503).json({ message: err.message });\r\n     }\r\n}\r\n\r\nexport default leadCtrl;\r\n"],"file":"lead.controller.js"}