{"version":3,"sources":["../../src/middlewares/verifyDuplicate.js"],"names":["checkRoleDuplicate","req","res","next","name","body","Role","findOne","roleFound","status","json","message","checkUserDuplicate","username","User","userFound","checkDuplicateMarca","Marca","encontrado","checkDuplicateModelo","Modelo","modeloEncontrado","checkDuplicateBanco","Chasis","checkDuplicateChasis","checkDuplicateVehiculo","cod_tdp","version","Vehicle","encontrado1","checkDuplicateSucursal","Sucursal","checkSellerDuplicate","document","Seller","nameFounded","documentFounded","checkDuplicateCity","City","checkDuplicateFinances","Financiamiento","checkDuplicateConversion","EstadoConversion","checkOriginDuplicate","OriginData"],"mappings":"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","sourcesContent":["import Role from '../models/Role'\r\nimport User from '../models/User'\r\nimport Seller from '../models/Seller'\r\nimport Chasis from '../models/Chasis'\r\nimport Marca from '../models/Marca'\r\nimport Modelo from '../models/Modelo'\r\nimport Sucursal from '../models/Sucursal'\r\nimport Vehicle from '../models/Vehicle'\r\nimport City from '../models/City'\r\nimport Financiamiento from '../models/Financiamiento'\r\nimport EstadoConversion from '../models/EstadoConversion';\r\nimport OriginData from '../models/OriginData';\r\n\r\nexport const checkRoleDuplicate = async(req, res, next) => {\r\n    const { name } = req.body\r\n\r\n    const roleFound = await Role.findOne({ name })\r\n\r\n    if (roleFound) return res.status(500).json({ message: 'El rol ya existe' })\r\n\r\n    next()\r\n}\r\n\r\nexport const checkUserDuplicate = async(req, res, next) => {\r\n    const { username } = req.body\r\n\r\n    const userFound = await User.findOne({ username });\r\n\r\n    if (userFound) return res.status(500).json({ message: 'El nombre de usuario ya existe' })\r\n\r\n    next()\r\n}\r\n\r\nexport const checkDuplicateMarca = async(req, res, next) => {\r\n    const { name } = req.body;\r\n    const encontrado = await Marca.findOne({ name: name });\r\n\r\n    if (encontrado) return res.status(500).json({ message: 'La Marca ya existe' });\r\n\r\n    next();\r\n}\r\n\r\nexport const checkDuplicateModelo = async(req, res, next) => {\r\n    const { name } = req.body;\r\n    const modeloEncontrado = await Modelo.findOne({ name: name });\r\n\r\n    if (modeloEncontrado) return res.status(500).json({ message: 'El Modelo ya existe' });\r\n\r\n    next();\r\n}\r\n\r\nexport const checkDuplicateBanco = async(req, res, next) => {\r\n    const { name } = req.body;\r\n    const encontrado = await Chasis.findOne({ name });\r\n\r\n    if (encontrado) return res.status(500).json({ message: 'Entidad Bancaria ya existe' });\r\n\r\n    next();\r\n}\r\n\r\nexport const checkDuplicateChasis = async(req, res, next) => {\r\n    const { name } = req.body;\r\n    const encontrado = await Chasis.findOne({ name: name });\r\n\r\n    if (encontrado) return res.status(500).json({ message: 'El Chasis ya existe' });\r\n\r\n    next();\r\n}\r\n\r\nexport const checkDuplicateVehiculo = async(req, res, next) => {\r\n    const { cod_tdp, version } = req.body;\r\n\r\n    const encontrado = await Vehicle.findOne({ cod_tdp: cod_tdp });\r\n    const encontrado1 = await Vehicle.findOne({ version: version });\r\n\r\n    if (encontrado) return res.status(500).json({ message: 'El COD-TDP ya existe' });\r\n    if (encontrado1) return res.status(500).json({ message: 'El vehículo ya existe' });\r\n\r\n    next();\r\n}\r\n\r\nexport const checkDuplicateSucursal = async(req, res, next) => {\r\n    const { name } = req.body;\r\n\r\n    const encontrado = await Sucursal.findOne({ name: name });\r\n\r\n    if (encontrado) return res.status(500).json({ message: 'La sucursal ya existe' });\r\n\r\n\r\n    next();\r\n}\r\n\r\nexport const checkSellerDuplicate = async(req, res, next) => {\r\n    const { name, document } = req.body;\r\n\r\n    const nameFounded = await Seller.findOne({ name: name });\r\n    const documentFounded = await Seller.findOne({ document: document });\r\n\r\n    if (nameFounded) return res.status(500).json({ message: 'El Vendedor ya existe' });\r\n    if (documentFounded) return res.status(500).json({ message: 'El documento del Vendedor ya existe' });\r\n    next();\r\n}\r\n\r\nexport const checkDuplicateCity = async(req, res, next) => {\r\n    const { name } = req.body;\r\n\r\n    const encontrado = await City.findOne({ name: name });\r\n    if (encontrado) return res.status(500).json({ message: 'La ciudad ya existe' });\r\n    next();\r\n}\r\n\r\nexport const checkDuplicateFinances = async(req, res, next) => {\r\n    const { name } = req.body;\r\n\r\n    const encontrado = await Financiamiento.findOne({ name: name });\r\n    if (encontrado) return res.status(500).json({ message: 'El tipo de financiamiento ya existe' });\r\n    next();\r\n}\r\n\r\nexport const checkDuplicateConversion = async(req, res, next) => {\r\n    const { name } = req.body;\r\n\r\n    const encontrado = await EstadoConversion.findOne({ name: name });\r\n    if (encontrado) return res.status(500).json({ message: 'El estado ya existe' });\r\n    next();\r\n}\r\n\r\nexport const checkOriginDuplicate = async(req, res, next) => {\r\n    const { name } = req.body;\r\n\r\n    const encontrado = await OriginData.findOne({ name: name });\r\n    if (encontrado) return res.status(500).json({ message: 'El origen ya existe' });\r\n    next();\r\n}"],"file":"verifyDuplicate.js"}